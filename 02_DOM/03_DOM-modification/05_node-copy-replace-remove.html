<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>05. 노드 복사, 교체, 삭제</h1>

    <h3>노드 복사</h3>
    <pre>
    Node.prototype.cloneNode([deep : true | false]) 메서드는 노드의 사본을 생성하여 반환한다. 
    매개변수 deep에 true를 인수로 전달하면 노드를 깊은 복사하여 모든 자손 노드가 포함된 사본을 생성하고,
    false를 인수로 전달하거나 생략하면 노드를 얕은 복사하여 노드 자신만의 사본을 생성한다. 
    얕은 복사로 생성된 요소 노드는 자손 노드를 복사하지 않으므로 텍스트 노드도 없다.  
    </pre>

    <!-- ul.copy{ul영역}>li{li 영역} -->
    <ul class="copy">
        ul영역
        <li>li 영역</li>
    </ul>

    <script>
        const $ul = document.querySelector(".copy");
        const $li = $ul.firstElementChild;

        console.log($ul);

        console.log($li);

        // $li 얕은 복사 -> 텍스트 노드 없는 사본
        const $shalllowClone = $li.cloneNode(false);

        // $ul 깊은 복사 -> 자손노드 li, 텍스트 노드가 있는 사본
        const $deepClone = $li.cloneNode(true);

        $ul.appendChild($shalllowClone);
        $ul.appendChild($deepClone);

    </script>

    <h3>노드 교체</h3>
    <pre>
    Node.prototype.replaceChild(newChild, oldChild) 메서드는 자신을 호출한 노드의 자식 노드인 
    oldChild 노드를 newChild 노드로 교체한다. 
    이 때 oldChild는 replaceChild 메서드를 호출한 노드의
    자식 노드여야하고 oldChild 노드는 DOM에서 제거된다.
    </pre>
    <ul id="drink">
        <li>커피</li>
        <li>사이다</li>
    </ul>

    <script>
        const $drink = document.getElementById('drink');
        const $coffee = $drink.firstElementChild;

        const $newChild = document.createElement('li');
        $newChild.textContent = '콜라';

        // 커피 요소 노드를 $newChild로 교체
        $drink.replaceChild($newChild, $coffee);
    </script>

<h3>노드 삭제</h3>
<pre>
Node.prototype.removeChild(child) 메서드는 child 매개변수에 인수로 전달한 노드를 DOM에서 삭제한다.
인수로 전달한 노드는 removeChild 메서드를 호출한 노드의 자식이어야 한다. 
</pre>

<ul id="food">
    <li>파스타</li>
    <li>피자</li>
</ul>

<script>
    const $food = document.getElementById('food');

    // $food 요소 노드의 마지막 요소를 DOM에서 삭제
    $food.removeChild($food.lastElementChild);
</script>
</body>

</html>